<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jairo’s Flooring</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Hoja de estilos principal -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- Navbar -->
    <header>
      <nav class="navbar">
        <div class="logo">Jairo’s Flooring</div>

        <!-- Menú (centrado en desktop; oculto en móvil, usamos drawer) -->
        <ul class="nav-links">
          <li><a href="#home">Inicio</a></li>
          <li><a href="#servicios">Servicios</a></li>
          <li><a href="#galeria">Galería</a></li>
          <li><a href="#por-que">¿Por qué nosotros?</a></li>
          <li><a href="#proceso">Proceso</a></li>
          <li><a href="#testimonios">Testimonios</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>

        <!-- Selector de idioma -->
        <div class="lang-switch" role="group" aria-label="Selector de idioma">
          <a class="lang-btn active" href="index.html" aria-current="page">ES</a>
          <a class="lang-btn" href="index_en.html" hreflang="en">EN</a>
        </div>
      </nav>
    </header>

    <!-- Hero -->
    <section id="home" class="hero" style="background-image:url('images/wood.png')">
      <div class="hero-content">
        <h1>Jairo’s Flooring: Pisos &amp; Alfombras de Calidad en Seattle</h1>
        <p>Calidad, pasión y experiencia en cada proyecto</p>
        <a href="#contacto" class="btn">Solicitar Cotización</a>
      </div>
    </section>

    <!-- Servicios -->
    <section id="servicios">
      <h2>Nuestros Servicios</h2>
      <div class="services">
        <div class="service">
          <img src="images/wood.png" alt="Instalación de pisos de madera" loading="lazy" />
          <h3>Pisos de Madera</h3>
          <p>Instalación y reparación de madera maciza y laminada con acabados duraderos.</p>
        </div>
        <div class="service">
          <img src="images/vinyl.png" alt="Instalación de pisos vinílicos" loading="lazy" />
          <h3>Pisos Vinílicos</h3>
          <p>Variedad de estilos en vinil y laminado para espacios resistentes al agua.</p>
        </div>
        <div class="service">
          <img src="images/tile.png" alt="Instalación de baldosas y azulejos" loading="lazy" />
          <h3>Baldosas y Azulejos</h3>
          <p>Diseño e instalación para cocinas, baños y superficies de alto tránsito.</p>
        </div>
        <div class="service">
          <img src="images/carpet.png" alt="Instalación de alfombras" loading="lazy" />
          <h3>Alfombras</h3>
          <p>Alfombras suaves y duraderas que añaden confort y mejoran la acústica.</p>
        </div>
      </div>
    </section>

    <!-- Galería - CARRUSEL HÍBRIDO -->
    <section id="galeria" aria-label="Galería de Proyectos">
      <h2>Galería de Proyectos</h2>

      <!-- Wrapper general -->
      <div class="carousel" data-autoloop aria-live="off">
        <!-- Pista (se clona automáticamente en desktop para loop infinito) -->
        <ul class="carousel-track" id="galleryTrack">
          <!-- === AÑADE AQUÍ MÁS <li class="slide"> CON TUS FOTOS === -->
          <li class="slide">
            <figure class="tile">
              <img src="images/wood.png" alt="Proyecto de piso de madera color nogal" loading="lazy" />
            </figure>
          </li>
          <li class="slide">
            <figure class="tile">
              <img src="images/vinyl.png" alt="Proyecto de piso vinílico gris" loading="lazy" />
            </figure>
          </li>
          <li class="slide">
            <figure class="tile">
              <img src="images/tile.png" alt="Instalación de baldosa gris en cocina" loading="lazy" />
            </figure>
          </li>
          <li class="slide">
            <figure class="tile">
              <img src="images/carpet.png" alt="Alfombra beige instalada en sala" loading="lazy" />
            </figure>
          </li>
        </ul>
      </div>

      <p class="hint">En móvil, desliza para ver más.</p>
    </section>

    <!-- ¿Por qué nosotros? -->
    <section id="por-que">
      <h2>¿Por qué elegir Jairo’s Flooring?</h2>
      <div class="why-us">
        <div class="why-item">
          <h3>Experiencia local</h3>
          <p>Con años de trabajo en Seattle y el Noroeste, recomendamos materiales que resisten la humedad.</p>
        </div>
        <div class="why-item">
          <h3>Calidad y garantía</h3>
          <p>Materiales de alta calidad, licencia y seguro. Ofrecemos garantía para tu tranquilidad.</p>
        </div>
        <div class="why-item">
          <h3>Atención personalizada</h3>
          <p>Asesoría, medición y presupuesto gratuitos para soluciones a tu medida.</p>
        </div>
      </div>
    </section>

    <!-- Proceso -->
    <section id="proceso">
      <h2>Nuestro Proceso</h2>
      <ol class="process">
        <li><strong>Consulta gratuita:</strong> Conocemos tus gustos, necesidades y presupuesto.</li>
        <li><strong>Visita y medición:</strong> Tomamos medidas y te mostramos muestras.</li>
        <li><strong>Presupuesto:</strong> Propuesta clara con opciones.</li>
        <li><strong>Instalación profesional:</strong> Cuidado y limpieza, respetando tu hogar.</li>
        <li><strong>Revisión y garantía:</strong> Recomendaciones de mantenimiento.</li>
      </ol>
    </section>

    <!-- Testimonios -->
    <section id="testimonios">
      <h2>Testimonios</h2>
      <div class="testimonials">
        <div class="testimonial">
          <p>“Trabajo excepcional. El piso de nuestra sala quedó hermoso y el servicio fue impecable.”</p>
          <span>- Kevin R., Seattle</span>
        </div>
        <div class="testimonial">
          <p>“Profesionales y responsables. Transformaron nuestra oficina con nuevos pisos vinílicos.”</p>
          <span>- Rafa G., Bellevue</span>
        </div>
        <div class="testimonial">
          <p>“Nos ayudaron a elegir la mejor alfombra para nuestro hogar. ¡Totalmente recomendados!”</p>
          <span>- Isabella P., Tacoma</span>
        </div>
      </div>
    </section>

    <!-- Síguenos -->
    <section id="siguenos">
      <h2>Síguenos</h2>
      <p>
        Conoce más de nuestro trabajo y encuentra inspiración en nuestras redes.
        Síguenos en <a href="#" target="_blank" rel="noopener">Instagram</a> y
        <a href="#" target="_blank" rel="noopener">Facebook</a>.
      </p>
    </section>

    <!-- Contacto -->
    <section id="contacto">
      <h2>Contacto</h2>
      <p>¿Listo para transformar tus espacios?</p>

      <form id="contactForm">
        <input type="text" name="nombre" placeholder="Tu nombre" required />
        <input type="email" name="email" placeholder="Tu correo electrónico" required />
        <input type="tel" name="telefono" placeholder="Tu teléfono" required />
        <textarea name="mensaje" placeholder="Cuéntanos sobre tu proyecto" required></textarea>
        <button type="submit" class="btn">Enviar Mensaje</button>
        <p id="formStatus" class="form-status" aria-live="polite"></p>
      </form>

      <div class="info">
        <p><strong>Ubicación:</strong> Seattle, WA</p>
        <p><strong>Teléfono:</strong> (206) 123-4567</p>
        <p><strong>Email:</strong> info@jairosflooring.com</p>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 Jairo’s Flooring. Todos los derechos reservados.</p>
    </footer>

    <!-- ===== Menú móvil: FAB + Drawer ===== -->
    <button class="fab" aria-label="Abrir menú" aria-controls="mobile-drawer" aria-expanded="false">☰</button>

    <div class="mobile-drawer" id="mobile-drawer" aria-hidden="true">
      <div class="drawer-backdrop"></div>
      <nav class="drawer-panel">
        <button class="drawer-close" aria-label="Cerrar menú">×</button>
        <ul class="drawer-links">
          <li><a href="#home">Inicio</a></li>
          <li><a href="#servicios">Servicios</a></li>
          <li><a href="#galeria">Galería</a></li>
          <li><a href="#por-que">¿Por qué nosotros?</a></li>
          <li><a href="#proceso">Proceso</a></li>
          <li><a href="#testimonios">Testimonios</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
        <div class="drawer-lang">
          <a class="lang-btn active" href="index.html">ES</a>
          <a class="lang-btn" href="index_en.html" hreflang="en">EN</a>
        </div>
      </nav>
    </div>

    <!-- JS: Drawer + envío EMAIL + Carrusel -->
    <script>
      // Drawer móvil
      const fab = document.querySelector('.fab');
      const drawer = document.getElementById('mobile-drawer');
      const closeBtn = drawer?.querySelector('.drawer-close');
      const backdrop = drawer?.querySelector('.drawer-backdrop');
      function openDrawer(){ drawer?.classList.add('open'); fab?.setAttribute('aria-expanded','true'); }
      function closeDrawer(){ drawer?.classList.remove('open'); fab?.setAttribute('aria-expanded','false'); }
      fab?.addEventListener('click', openDrawer);
      closeBtn?.addEventListener('click', closeDrawer);
      backdrop?.addEventListener('click', closeDrawer);
      drawer?.querySelectorAll('a').forEach(a => a.addEventListener('click', closeDrawer));

      // Envío del formulario a /api/send-sms (EMAIL via Resend)
      const form = document.getElementById('contactForm');
      const statusEl = document.getElementById('formStatus');
      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        statusEl.textContent = 'Enviando...';
        const data = {
          name: form.nombre.value,
          email: form.email.value,
          phone: form.telefono.value,
          message: form.mensaje.value,
          lang: 'es'
        };
        try {
          const res = await fetch('/api/send-sms', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });
          const out = await res.json();
          if (res.ok && out.ok) {
            statusEl.textContent = '¡Gracias! Te contactaremos pronto.';
            form.reset();
          } else {
            statusEl.textContent = 'Hubo un problema al enviar. Intenta más tarde.';
          }
        } catch (err) {
          statusEl.textContent = 'Error de red. Intenta más tarde.';
        }
      });

      // ===== Carrusel: clonado dinámico para loop (solo desktop) =====
      const track = document.getElementById('galleryTrack');
      const mqDesktop = window.matchMedia('(min-width: 1024px)');
      function setupCarousel(){
        // Limpia clones previos
        track.querySelectorAll('.clone').forEach(n=>n.remove());
        if (mqDesktop.matches) {
          // Duplica los slides para loop continuo
          const slides = Array.from(track.children);
          slides.forEach(s => {
            const c = s.cloneNode(true);
            c.classList.add('clone');
            track.appendChild(c);
          });
          track.setAttribute('data-loop','true');
        } else {
          track.removeAttribute('data-loop');
        }
      }
      setupCarousel();
      mqDesktop.addEventListener?.('change', setupCarousel);

      // Pausa animación al focusear con teclado (accesibilidad)
      track?.addEventListener('focusin', () => track.classList.add('pause'));
      track?.addEventListener('focusout', () => track.classList.remove('pause'));
    </script>
  </body>
</html>
